<?xml version="1.0" encoding="UTF-8"?>
<ViewConfig>
  <Arguments/>
  <Context/>
  <Model>
    <DataType name="Node" matchType="com.bstek.dorado.console.parser.Node">
      <PropertyDef name="name">
        <Property name="dataType">String</Property>
      </PropertyDef>
      <PropertyDef name="type">
        <Property name="dataType">String</Property>
      </PropertyDef>
      <PropertyDef name="parser">
        <Property name="dataType">String</Property>
      </PropertyDef>
      <PropertyDef name="component">
        <Property name="dataType">String</Property>
      </PropertyDef>
      <PropertyDef name="properties">
        <Property name="dataType">[KeyValue]</Property>
      </PropertyDef>
      <PropertyDef name="children">
        <Property name="dataType">[Node]</Property>
      </PropertyDef>
    </DataType>
    <DataType name="KeyValue" matchType="com.bstek.dorado.console.parser.Node$KeyValue">
      <PropertyDef name="key">
        <Property name="dataType">String</Property>
      </PropertyDef>
      <PropertyDef name="value">
        <Property name="dataType">String</Property>
      </PropertyDef>
    </DataType>
  </Model>
  <View>
    <DataSet id="dataSet1">
      <Property name="dataType">[Node]</Property>
      <Property name="dataProvider">dorado.console.parserTree#getTopNodes</Property>
      <Property name="loadMode">manual</Property>
    </DataSet>
    <Container layout="vbox" layoutConstraint="top">
      <Property name="contentOverflow">hidden</Property>
      <AutoForm id="autoForm1">
        <Property name="cols">*</Property>
        <AutoFormElement>
          <Property name="name">className</Property>
          <Property name="property">className</Property>
          <Editor>
            <TextEditor>
              <Property name="required">true</Property>
            </TextEditor>
          </Editor>
        </AutoFormElement>
      </AutoForm>
      <Button>
        <ClientEvent name="onClick">var autoForm1 = this.id('autoForm1');&#xD;
var dataSet1 = this.id('dataSet1');&#xD;
&#xD;
var entity = autoForm1.get('entity');&#xD;
var className; &#xD;
if (entity &amp;&amp; entity['className']) {&#xD;
	className = entity['className'];&#xD;
	dataSet1.set('parameter', {&#xD;
		className: className&#xD;
	});&#xD;
	&#xD;
	dataSet1.flush();&#xD;
}&#xD;
</ClientEvent>
        <Property name="caption">查询</Property>
        <Property name="width">200</Property>
      </Button>
    </Container>
    <SplitPanel>
      <Property name="position">200</Property>
      <MainControl>
        <Container>
          <AutoForm layoutConstraint="top">
            <Property name="dataSet">dataSet1</Property>
            <Property name="dataPath">!CURRENT_NODE</Property>
            <Property name="cols">*</Property>
            <AutoFormElement>
              <Property name="name">name</Property>
              <Property name="property">name</Property>
              <Editor>
                <DataLabel/>
              </Editor>
            </AutoFormElement>
            <AutoFormElement>
              <Property name="name">component</Property>
              <Property name="property">component</Property>
              <Editor>
                <DataLabel/>
              </Editor>
            </AutoFormElement>
            <AutoFormElement layoutConstraint="colSpan:2">
              <Property name="name">parser</Property>
              <Property name="property">parser</Property>
              <Editor>
                <DataLabel/>
              </Editor>
            </AutoFormElement>
          </AutoForm>
          <DataGrid layoutConstraint="center">
            <Property name="dataSet">dataSet1</Property>
            <Property name="dataPath">!CURRENT_NODE.properties</Property>
            <Property name="autoCreateColumns">false</Property>
            <Property name="stretchColumnsMode">stretchableColumns</Property>
            <Property name="readOnly">true</Property>
            <DataColumn>
              <Property name="name">key</Property>
              <Property name="width">150</Property>
              <Property name="readOnly">true</Property>
              <Property name="sortState">asc</Property>
              <Property name="property">key</Property>
            </DataColumn>
            <DataColumn>
              <Property name="name">value</Property>
              <Property name="width">*</Property>
              <Property name="readOnly">true</Property>
              <Property name="property">value</Property>
            </DataColumn>
          </DataGrid>
        </Container>
      </MainControl>
      <SideControl>
        <DataTree>
          <Property name="dataSet">dataSet1</Property>
          <Property name="currentNodeDataPath">CURRENT_NODE</Property>
          <BindingConfigs>
            <BindingConfig>
              <Property name="childrenProperty">children</Property>
              <Property name="labelProperty">name</Property>
              <Property name="recursive">true</Property>
            </BindingConfig>
          </BindingConfigs>
        </DataTree>
      </SideControl>
    </SplitPanel>
  </View>
</ViewConfig>
