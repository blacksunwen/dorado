<?xml version="1.0" encoding="UTF-8"?>
<ViewConfig>
  <Model>
    <DataType name="ExampleCategory" parent="global:ExampleCategory">
      <PropertyDef name="hasChild">
        <Property name="dataType">boolean</Property>
      </PropertyDef>
      <PropertyDef name="childCount">
        <Property name="dataType">int</Property>
      </PropertyDef>
      <Reference name="categories" dataProvider="main#getCategories" dataType="[SELF]" parameter="$${this.id}"/>
      <Reference name="examples" dataProvider="main#getExamplesByCategoryId" dataType="[Example]" parameter="$${this.id}"/>
    </DataType>
    <DataType name="Example" parent="global:Example">
      <PropertyDef name="sortFlag" dataType="int"/>
      <PropertyDef name="sources" dataType="[ExampleSource]"/>
    </DataType>
    <DataType name="SearchResult">
      <Property name="creationType">com.bstek.dorado.sample.SearchResult</Property>
      <Property name="autoCreatePropertyDefs">true</Property>
    </DataType>
  </Model>
  <View layout="Anchor" title="Dorado7 Sample Center">
    <PageBanner layoutConstraint="left:0; right:0; top:0">
      <Property name="caption">Dorado 7 Sample Center</Property>
    </PageBanner>
    <SplitPanel layoutConstraint="left:0;right:0;top:0;anchorTop:previous;bottom:0;padding:1" position="260">
      <MainControl>
        <IFrame id="frameExample"/>
      </MainControl>
      <SideControl>
        <Accordion id="accordion">
          <Section>
            <Property name="caption">目录结构</Property>
            <Property name="icon">url(skin>common/icons.gif) -260px -40px</Property>
            <Container>
              <AjaxAction id="actionGetPath">
                <Property name="service">main#getPath</Property>
              </AjaxAction>
              <DataSet id="dsCategories" dataProvider="main#getCategories" dataType="[ExampleCategory]"/>
              <DataTree id="treeExamples" dataSet="dsCategories">
                <Property name="expandingAnimated">true</Property>
                <Property name="allowNoCurrent">true</Property>
                <Property name="style">
                  <Property name="border-style">none</Property>
                </Property>
                <BindingConfigs>
                  <BindingConfig childrenProperty="categories" icon=">images/folder.gif" labelProperty="label" recursive="true">
                    <Property name="name">category</Property>
                    <Property name="hasChildProperty">hasChild</Property>
                    <BindingConfig childrenProperty="examples" icon=">images/file.gif" labelProperty="label">
                      <Property name="name">example</Property>
                    </BindingConfig>
                  </BindingConfig>
                </BindingConfigs>
              </DataTree>
            </Container>
          </Section>
          <Section>
            <Property name="caption">查找示例</Property>
            <Property name="icon">url(skin>common/icons.gif) -20px -40px</Property>
            <Container layout="regionPadding:6">
              <DataSet id="dsSearchResult">
                <Property name="dataProvider">main#search</Property>
                <Property name="loadMode">manual</Property>
                <Property name="dataType">[SearchResult]</Property>
              </DataSet>
              <Container layout="form cols:*,70;rowPadding:0;padding:0">
                <Property name="contentOverflow">visible</Property>
                <TextEditor id="inputSearch">
                  <Property name="blankText">请输入搜索条件...</Property>
                </TextEditor>
                <Button id="buttonSearch">
                  <Property name="width">100%</Property>
                  <Property name="caption">搜索</Property>
                  <Property name="style">
                    <Property name="margin-top">3px</Property>
                  </Property>
                  <Property name="icon">url(skin>common/icons.gif) -20px -40px</Property>
                </Button>
              </Container>
              <DataListBox id="listSearchResult">
                <Property name="dataSet">dsSearchResult</Property>
                <Property name="property">label</Property>
                <Property name="rowHeight">24</Property>
              </DataListBox>
            </Container>
          </Section>
        </Accordion>
      </SideControl>
    </SplitPanel>
    <Tip id="tipSearch">
      <Property name="content">试试这里吧！我已经支持示例搜索功能了。</Property>
      <Property name="caption">小提示</Property>
      <Property name="closeable">true</Property>
      <Property name="arrowAlign">left</Property>
      <Property name="arrowDirection">bottom</Property>
      <Property name="icon">INFO</Property>
      <Property name="hideAnimateType">fade</Property>
    </Tip>
    <Button id="buttonAdmin" caption="管理" layoutConstraint="top:10; right:12" tip="管理">
      <Property name="icon">url(skin>common/icons.gif) -100px -20px</Property>
    </Button>
  </View>
</ViewConfig>
