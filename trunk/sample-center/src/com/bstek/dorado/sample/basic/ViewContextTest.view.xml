<?xml version="1.0" encoding="UTF-8"?>
<ViewConfig>
  <Arguments/>
  <Context>
    <Attribute name="attr1">
      <Property name="value">${param.attr1}</Property>
    </Attribute>
  </Context>
  <Model/>
  <View layout="vbox padding:20">
    <ClientEvent name="onCreate">this.$refreshFormViewContext = function() {&#xD;
	this.set(&quot;#formViewContext.entity&quot;, {&#xD;
		attr1: this.get(&quot;context.attr1&quot;),&#xD;
		attr2: this.get(&quot;context.attr2&quot;),&#xD;
		attr3: this.get(&quot;context.attr3&quot;)&#xD;
	});&#xD;
}</ClientEvent>
    <ClientEvent name="onReady">this.set(&quot;context.attr2&quot;, &quot;some text&quot;);&#xD;
this.$refreshFormViewContext();</ClientEvent>
    <Container layout="hbox">
      <AjaxAction id="actionAjax">
        <ClientEvent name="onSuccess">this.$refreshFormViewContext();</ClientEvent>
        <Property name="caption">Test Ajax</Property>
        <Property name="service">viewContextTest#testAjax</Property>
      </AjaxAction>
      <Button>
        <Property name="action">actionAjax</Property>
      </Button>
    </Container>
    <FieldSet layout="padding:8">
      <Property name="caption">View Context</Property>
      <Property name="width">400</Property>
      <Property name="contentOverflow">visible</Property>
      <Buttons/>
      <Children>
        <AutoForm id="formViewContext">
          <Property name="cols">*</Property>
          <Property name="labelAlign">right</Property>
          <Property name="readOnly">true</Property>
          <AutoFormElement>
            <Property name="property">attr1</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="property">attr2</Property>
            <Editor/>
          </AutoFormElement>
          <AutoFormElement>
            <Property name="property">attr3</Property>
            <Editor/>
          </AutoFormElement>
        </AutoForm>
      </Children>
    </FieldSet>
  </View>
</ViewConfig>
