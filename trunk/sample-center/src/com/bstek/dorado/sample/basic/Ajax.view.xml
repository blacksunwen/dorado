<?xml version="1.0" encoding="UTF-8"?>
<ViewConfig>
  <View layout="form cols:*" style="margin:16px" title="Ajax">
    <Container layout="hbox">
      <AjaxAction id="toUpperCaseAction" caption="To UpperCase" parameter="Hello World!" service="ajax#toUpperCase">
        <ClientEvent name="onSuccess">dorado.MessageBox.alert(self.get(&quot;returnValue&quot;));</ClientEvent>
      </AjaxAction>
      <Button action="toUpperCaseAction"/>
      <AjaxAction id="multiplyAction" executingMessage="Computing..." service="ajax#multiply"/>
      <Button caption="Ajax Multiply">
        <ClientEvent name="onClick" signature="multiplyAction">dorado.MessageBox.prompt(&quot;Please input two numbers here&quot;, {
	defaultText: &quot;3*5&quot;,
	callback: function(text) {
		var nums = text.split(&quot;*&quot;);
		var parameter = {
			num1: nums[0],
			num2: nums[1]
		};
		multiplyAction.set(&quot;parameter&quot;, parameter).execute(function(result) {
			dorado.MessageBox.alert(nums[0] + &quot; * &quot; + nums[1] + &quot; = &quot; + result);
		});
	}
});
</ClientEvent>
      </Button>
      <AjaxAction id="getSystemInfoAction" caption="Retrieve Dorado7 System Information" service="ajax#getSystemInfo">
        <ClientEvent name="onSuccess">var info = self.get(&quot;returnValue&quot;);
dorado.MessageBox.alert(&quot;product : &quot; + info.product + &quot;\n&quot; + 
	&quot;vendor : &quot; + info.vendor + &quot;\n&quot; + 
	&quot;version : &quot; + info.version);
</ClientEvent>
      </AjaxAction>
      <Button action="getSystemInfoAction"/>
    </Container>
    <Container layout="vbox align:left">
      <AjaxAction id="getMemInfo">
        <ClientEvent name="onSuccess" signature="self, arg, labelMemInfo, progressBarMemInfo, buttonGetMemInfo">labelMemInfo.set(&quot;text&quot;, &quot;空闲内存: &quot; + arg.result.freeMemory + &quot; 总内存: &quot; + arg.result.totalMemory);&#xD;
progressBarMemInfo.set({&#xD;
	maxValue: arg.result.totalMemory,&#xD;
	value: arg.result.totalMemory - arg.result.freeMemory&#xD;
});&#xD;
&#xD;
if (buttonGetMemInfo.get(&quot;toggled&quot;)) {&#xD;
	setTimeout(function(){&#xD;
		self.execute();&#xD;
	}, 800);&#xD;
}&#xD;
</ClientEvent>
        <ClientEvent name="beforeExecute" signature="labelRetrievingMemInfo">labelRetrievingMemInfo.set(&quot;visible&quot;, true);</ClientEvent>
        <ClientEvent name="onExecute" signature="labelRetrievingMemInfo">labelRetrievingMemInfo.set(&quot;visible&quot;, false);</ClientEvent>
        <Property name="caption">提取Server端内存使用情况</Property>
        <Property name="service">ajax#getMemInfo</Property>
      </AjaxAction>
      <Button id="buttonGetMemInfo">
        <Property name="action">getMemInfo</Property>
        <Property name="toggleable">true</Property>
      </Button>
      <Container layout="hbox regionPadding:20">
        <Label id="labelMemInfo">
          <Property name="text">------</Property>
        </Label>
        <Label id="labelRetrievingMemInfo">
          <Property name="visible">false</Property>
          <Property name="text">Retrieving</Property>
          <Property name="style">
            <Property name="fontWeight">bold</Property>
            <Property name="color">green</Property>
          </Property>
        </Label>
      </Container>
      <ProgressBar id="progressBarMemInfo">
        <Property name="width">300</Property>
      </ProgressBar>
    </Container>
  </View>
</ViewConfig>
