<?xml version="1.0" encoding="UTF-8"?>
<ViewConfig>
  <Model>
    <DataType parent="Example" name="XExample">
      <PropertyDef name="sources" dataType="[ExampleSource]"/>
    </DataType>
  </Model>
  <View layout="Anchor" pageTemplate="com/bstek/dorado/sample/ExampleSummary.html" title="示例简述">
    <DataSet id="dsExample" dataType="XExample" dataProvider="exampleSummary#getExample" loadMode="preload" parameter="${request.getParameter(&quot;exampleId&quot;)}">
      <ClientEvent name="onReady">
var id = self.getData(&quot;id&quot;);
$(&quot;a&quot;).attr(&quot;target&quot;, &quot;doc_&quot; + id);
var sources = self.getData().get(&quot;sources&quot;);
if (sources.entityCount == 0) {
	sources.createChild({ label: &quot;(未定义源文件)&quot; });
}
</ClientEvent>
    </DataSet>
    <SimpleButton className="button-run" renderTo="#buttonRunHold"/>
    <DataGrid renderOn="#gridSource" width="600" dataPath="sources" dataSet="dsExample" dynaRowHeight="true" highlightCurrentRow="false" readOnly="true" stretchColumnsMode="stretchableColumns">
      <DataColumn caption="源文件" property="label" width="*">
        <ClientEvent name="onRenderCell">
var t, sourceId = arg.data.get(&quot;id&quot;), label = arg.data.get(&quot;label&quot;), path = arg.data.get(&quot;path&quot;);
if (path) {
	t = $.template(&quot;&lt;div style='padding:4px'>&lt;a target='_blank' href='com.bstek.dorado.sample.ViewSource.d?sourceId=\${sourceId}'>\${label}&lt;/a>&lt;br>&quot; +
			&quot;&lt;label class='source-path'>\${path}&lt;/label>&lt;div>&quot;);
}
else {
	t = $.template(&quot;&lt;div class='source-path' style='padding:4px'>\${label}&lt;/label>&lt;div>&quot;);
}
$(arg.dom).empty().append(t, { sourceId:sourceId, path:path, label:label }).css(&quot;background&quot;, &quot;white&quot;);
</ClientEvent>
      </DataColumn>
    </DataGrid>
  </View>
</ViewConfig>
