<?xml version="1.0" encoding="UTF-8"?>
<ViewConfig>
  <View title="简单查询  1">
    <DataSet id="dsOrders" dataProvider="orderInterceptor#query" dataType="[Order]" loadMode="manual" pageSize="10"/>
    <DataSet id="dsCustomers" dataProvider="customerInterceptor#findCustomersByCompanyName" dataType="[BaseCustomer]"/>
    <DataSet id="dsEmployees" dataProvider="employeeInterceptor#getAll" dataType="[BaseEmployee]"/>
    <ToolBar layoutConstraint="top">
      <DataPilot dataSet="dsOrders"/>
      <Separator/>
      <ToolBarButton caption="查询" icon="url(>skin>common/icons.gif) -40px -100px">
        <ClientEvent name="onClick">
var formCondition = this.id(&quot;formCondition&quot;);
var dsOrders = this.id(&quot;dsOrders&quot;);
dsOrders.set(&quot;parameter&quot;, formCondition.get(&quot;entity&quot;));
dsOrders.flushAsync();
</ClientEvent>
      </ToolBarButton>
    </ToolBar>
    <DataSetDropDown id="ddCustomers" dataSet="dsCustomers" dynaFilter="true"/>
    <DataSetDropDown id="ddEmployees" dataSet="dsEmployees"/>
    <AutoForm id="formCondition" cols="300,300" layoutConstraint="top" padding="8" showHint="false">
      <AutoFormElement label="日期（起）" property="orderDate1">
        <Editor>
          <TextEditor dataType="Date"/>
        </Editor>
      </AutoFormElement>
      <AutoFormElement label="日期（至）" property="orderDate2">
        <Editor>
          <TextEditor dataType="Date"/>
        </Editor>
      </AutoFormElement>
      <AutoFormElement label="客户" property="customer" trigger="ddCustomers"/>
      <AutoFormElement label="业务员" property="employee" trigger="ddEmployees"/>
    </AutoForm>
    <DataGrid dataSet="dsOrders"/>
  </View>
</ViewConfig>
