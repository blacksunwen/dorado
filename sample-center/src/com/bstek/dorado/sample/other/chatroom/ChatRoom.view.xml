<?xml version="1.0" encoding="UTF-8"?>
<ViewConfig>
  <Arguments/>
  <Context/>
  <Model/>
  <View listener="spring:chatRoom#onReady" layout="padding:20">
    <Panel id="panelChatRoom">
      <Property name="width">600</Property>
      <Property name="height">400</Property>
      <Property name="maximizeable">true</Property>
      <Property name="caption">Chat Room</Property>
      <Buttons/>
      <Children>
        <CardBook id="cardbookChatRoom">
          <Container layout="anchor">
            <Container layout="vbox regionPadding:6" layoutConstraint="left:50%;top:50%">
              <Label>
                <Property name="text">请输入您的昵称：</Property>
              </Label>
              <TextEditor id="inputUser">
                <Property name="width">200</Property>
              </TextEditor>
              <Button id="buttonEnter" layoutConstraint="align:right">
                <Property name="caption">进入聊天室</Property>
              </Button>
            </Container>
          </Container>
          <Container layout="regionPadding:8">
            <HtmlContainer id="messageList">
              <Property name="style">
                <Property name="border">1px gray solid</Property>
              </Property>
            </HtmlContainer>
            <Container layout="anchor" layoutConstraint="bottom">
              <Property name="contentOverflow">visible</Property>
              <TextEditor id="inputMessage" layoutConstraint="left:0;right:54;top:1">
                <Property name="blankText">输入要发送的信息</Property>
                <Property name="maxLength">144</Property>
              </TextEditor>
              <Button layoutConstraint="right:0">
                <Property name="width">50</Property>
                <Property name="action">sendMessageAction</Property>
              </Button>
            </Container>
          </Container>
        </CardBook>
      </Children>
      <Tools/>
    </Panel>
    <AjaxAction id="sendMessageAction">
      <Property name="service">chatRoom#sendMessage</Property>
      <Property name="caption">发送</Property>
      <Property name="executingMessage">正在发送消息</Property>
      <Property name="modal">false</Property>
      <Property name="disabled">true</Property>
    </AjaxAction>
    <AjaxAction id="retrieveMessageAction">
      <Property name="service">chatRoom#getMessages</Property>
      <Property name="modal">false</Property>
    </AjaxAction>
  </View>
</ViewConfig>
